
C:\Users\anton\OneDrive\Documentos\FI UNAM\8vo\Microcomputadoras\TEORIA\PROYECTO_FINAL\PF_Microcomputadoras\proyecto_final.cus   Ensamblado con ENS08 el 24/05/2024 07:52:29 p. m.

0000               * Dirección asociada con apuntador de sentencias 'data' *
0000                dirapdata*           equ   $00D0
0000               * Dirección inicial de colocación de variables de usuario e internas *
0000                dirinivars*          equ   $00D0
0000               *....................................................................*
0000               * Direcciones asociadas con variables de tipo byte *
0000                dirinibyte*          equ   $00D0
0000                byaux~               equ   $00D0
0000                t~1                  equ   $00D1
0000               ******************************************************************
0000               * Direcciones asociadas con variables de tipo entero de 2 bytes *
0000                dirinient2b*         equ   $00D2
0000                contms%              equ   $00D2
0000                t%1                  equ   $00D4
0000                t%2                  equ   $00D6
0000               ******************************************************************
0000               * Direcciones asociadas con variables de tipo entero de 4 bytes (long) *
0000                dirinilong*          equ   $00D8
0000               ******************************************************************
0000               * Direcciones asociadas con variables de tipo real de 4 bytes *
0000                dirinivr4b*          equ   $00D8
0000                dentse               equ   $00D8
0000                vprom                equ   $00DC
0000                t!1                  equ   $00E0
0000                t!2                  equ   $00E4
0000                t!3                  equ   $00E8
0000               ******************************************************************
0000               * Direcciones asociadas con variables de tipo real de 8 bytes *
0000                dirinivr8b*          equ   $00EC
0000               ******************************************************************
0000               * Direcciones asociadas con descriptores de variables de tipo string *
0000                dirinivrstr*         equ   $00EC
0000               ******************************************************************
0000               * Dirección inicial de colocación de strings *
0000                dirinistrings*       equ   $00EC
0000               ******************************************************************
0000                dir#ultdesc          equ   $00E9
0000                top#mem              equ   $046F
0000                SUM#NSNBY             EQU        $D800
0000                RES#NSNBY             EQU        $D82A
0000                ROT#IZQ08             EQU        $D854
0000                ROT#DER08             EQU        $D864
0000                MUL#NSNBY             EQU        $D874
0000                SUMA#PARCIAL          EQU        $D8F2
0000                NEG#NBY               EQU        $D919
0000                CP#NSNB               EQU        $D93F
0000                CP#NSNBZ              EQU        $D961
0000                DIV#NSNBY             EQU        $D976
0000                MOD#NSNBY             EQU        $DAAD
0000                GEN#CADASCNBY         EQU        $DB66
0000                GEN#ASCFNSNBY         EQU        $DBD7
0000                SUMAL#NBY             EQU        $DC3E
0000                RESTAL#NBY            EQU        $DC70
0000                MULAL#NBY             EQU        $DC78
0000                PONE#7FFF             EQU        $DCE5
0000                PONE#FF80             EQU        $DD18
0000                DIVAL#NBY             EQU        $DD42
0000                MODAL#NBY             EQU        $DD7C
0000                CP#NBY                EQU        $DDB1
0000                MULX10#NSNBY          EQU        $DDD8
0000                GEN#10^N1             EQU        $DE08
0000                EST#NBDEND            EQU        $DE27
0000                ESC#MOFFS             EQU        $DE45
0000                ASCENT#ABIN           EQU        $DE5A
0000                SI#ESDIGDEC           EQU        $DEDD
0000                ASCREAL#ABIN          EQU        $DEED
0000                ASCRNOEX#AFLOT        EQU        $DF9F
0000                MUL#PFPS              EQU        $E053
0000                GENFLOT#10^M          EQU        $E0DE
0000                GENFLOT#10^(-M)       EQU        $E10E
0000                SWAP#ACPFPS           EQU        $E12F
0000                ASCRCONEX#AFLOT       EQU        $E16C
0000                PSH#ACPFPS2           EQU        $E1DA
0000                PUL#ACPFPS2           EQU        $E1EE
0000                PSH#ACPFPS1           EQU        $E202
0000                PUL#ACPFPS1           EQU        $E216
0000                DIV#PFPS              EQU        $E22A
0000                RES#PFPS              EQU        $E2D8
0000                SUM#PFPS              EQU        $E2E3
0000                CP#PFPS               EQU        $E372
0000                AJU#EXPYMANT          EQU        $E3D6
0000                PARTENT#PFPS          EQU        $E427
0000                PARTFRAC#PFPS         EQU        $E47F
0000                PRINTIP1#PFPS         EQU        $E49B
0000                PRINTIP2#PFPS         EQU        $E52C
0000                ANALIZA#CAD           EQU        $E5F2
0000                PONE#CEROSIZQ         EQU        $E6D1
0000                VALIDALEC#NUM         EQU        $E795
0000                PRINT#ENTSIG          EQU        $E875
0000                FLOT5B#AFLOT4B        EQU        $E8BB
0000                FLOT4B#AFLOT5B        EQU        $E8D5
0000                MUEVE#BLO_FFFF        EQU        $E8FC
0000                MUEVE#BLO_0000        EQU        $E94A
0000                ASIGCAD#ASTR          EQU        $E99D
0000                SUM#STRINGS           EQU        $EAB0
0000                CP#STRINGS            EQU        $EB39
0000                ASIG#SUBSTRING        EQU        $EB7C
0000                AVISO#ARGINV          EQU        $EBF1
0000                CONV#12               EQU        $EC0D
0000                CONV#13               EQU        $EC1B
0000                CONV#14               EQU        $EC33
0000                CONV#21               EQU        $EC67
0000                CONV#23               EQU        $EC90
0000                CONV#24               EQU        $ECA3
0000                CONV#31               EQU        $ECE7
0000                CONV#32               EQU        $ED11
0000                CONV#34               EQU        $ED3D
0000                CONV#41               EQU        $ED8A
0000                CONV#42               EQU        $EDF2
0000                CONV#43               EQU        $EE69
0000                RAIZ#CUAD             EQU        $EEEC
0000                GENFLOT#X^M           EQU        $EF6A
0000                CGCTE#ACPFPS2         EQU        $EF7E
0000                CGCTE#ACPFPS1         EQU        $EF92
0000                SEN(Z)#V1             EQU        $EF9E
0000                COS(Z)#V1             EQU        $F007
0000                SEN(Z)#Z<PI/2         EQU        $F020
0000                SEN(Z)#Z<2PI          EQU        $F057
0000                SEN(Z)#GEN            EQU        $F0C3
0000                COS(Z)#GEN            EQU        $F14D
0000                EXP(Z)#V1             EQU        $F160
0000                EXP(Z)#GEN            EQU        $F1AC
0000                L(Z)#GEN              EQU        $F237
0000                L10(z)#GEN            EQU        $F2DA
0000                TAN(Z)#GEN            EQU        $F2ED
0000                ATAN(Z)#V2            EQU        $F315
0000                ATAN(Z)#Z<=1          EQU        $F360
0000                ATAN(Z)#GEN           EQU        $F3BF
0000                XEY#PFPS              EQU        $F404
0000                XEY#GEN               EQU        $F41A
0000                OB#1/Z                EQU        $F498
0000                FIX#PFPS              EQU        $F4B1
0000                VMEMFL#ACPFPS1        EQU        $F4C1
0000                VMEMFL#ACPFPS2        EQU        $F4D1
0000                ACPFPS1#VMEMFL        EQU        $F4E7
0000                VMEM#ACC1+OFFS        EQU        $F4F7
0000                ACC1+OFFS#VMEM        EQU        $F50F
0000                ES#DIGHEX             EQU        $F527
0000                ANALIZA#CADHEX        EQU        $F544
0000                PON#CAR               EQU        $F565
0000                LEE#CAR               EQU        $F569
0000                INPUT#ACC1            EQU        $F56D
0000                ENRU#PONCAR           EQU        $F5D5
0000                PONCAR#DE_STR         EQU        $F5EA
0000                CADHEX#AFLOT          EQU        $F850
0000                PONE#CEROENACPFPS1    EQU        $F8D6
0000                PARHEXA#BYTEQ         EQU        $F8E1
0000                VAL#DIGHEX            EQU        $F8F8
0000                VAL#GEN               EQU        $F905
0000                STR$#GEN              EQU        $F954
0000                HEX$#GEN              EQU        $F976
0000                CHR$#GEN              EQU        $F9AE
0000                ASC#GEN               EQU        $F9C3
0000                LEN#GEN               EQU        $F9DD
0000                SGN#GEN               EQU        $F9E6
0000                ABS#GEN               EQU        $F9F8
0000                CINT#GEN              EQU        $F9FB
0000                CSGN#GEN              EQU        $FA32
0000                DIVENT#PFPS           EQU        $FA3C
0000                SUB#AUXDIVINTYMOD     EQU        $FA5E
0000                MODAL#PFPS            EQU        $FA72
0000                OPERBOOLE#PFPS        EQU        $FA94
0000                OPERBOOLE#NBY         EQU        $FAAF
0000                NOT#PFPS              EQU        $FB02
0000                NOT#NBY               EQU        $FB1B
0000                BLOQUE1#ABLOQUE2      EQU        $FB29
0000                AVISO#INDINV          EQU        $FB42
0000                INPUT#ACC9            EQU        $FB99
0000                TX#SCI                EQU        $FBC6
0000                RX#SCI                EQU        $FBCC
0000                MUL#N3B               EQU        $FBD2
0000                txsci equ $fc87
0000                rxsci equ $fc8d
0000                acc#1          equ $A0
0000                apf#ps1        equ $B4
0000                m1pf#ps1       equ $B5
0000                m2pf#ps1       equ $B6
0000                m3pf#ps1       equ $B7
0000                tspf#ps1       equ $B8
0000                apf#ps2        equ $B9
0000                m1pf#ps2       equ $BA
0000                m2pf#ps2       equ $BB
0000                m3pf#ps2       equ $BC
0000                tspf#ps2       equ $BD
0000                apun*          equ $87
0000                var#dirinistr  equ $89
0000                var#dirultdesc equ $8B
0000                var#topmem     equ $8D
0000                locaux#-6      equ $8F
0000                locaux#-5      equ $90
0000                locaux#-4      equ $91
0000                locaux#-3      equ $92
0000                locaux#-2      equ $93
0000                locaux#-1      equ $94
0000                locaux#0       equ $95
0000                locaux#1       equ $96
0000                locaux#2       equ $97
0000                locaux#3       equ $98
0000                locaux#4       equ $99
0000                locaux#5       equ $9A
0000                locaux#6       equ $9B
0000                locaux#7       equ $9C
0000                nu#by          equ $9D
0000                bya#dirll      equ $9E
0000                byb#dirll      equ $9F
0000               ** Asignaciones equ asociadas con sentencias defvarxptr **
0000               *  defvarbptr tpm1sc &h20 
0000                tpm1sc               equ $0020
0000               *  defvarbptr tpm1modh &h23 
0000                tpm1modh             equ $0023
0000               *  defvarbptr tpm1modl &h24 
0000                tpm1modl             equ $0024
0000               *  defvarbptr ptad &h0 
0000                ptad                 equ $0000
0000               *  defvarbptr ptape &h1840 
0000                ptape                equ $1840
0000               ** Fin de colocación de equs asociados con declaraciones defvarxptr

0000                ini#sp            equ $047F
8000                                        org $8000
8000 450480                                  ldhx #ini#sp+1
8003 94                                      txs 
8004               ** No hay código de inicialización definido por el usuario **
8004 4500D0                                  ldhx #dirinivars*
8007 7F             otro#ceroaram:           clr ,x
8008 AF01                                    aix #$01
800A 650470                                  cphx #top#mem+1
800D 26F8                                    bne otro#ceroaram
800F 4500EC                                  ldhx #dirinistrings*
8012 6500EC                                  cphx #dirinivrstr*
8015 2719                                    beq ini#tops
8017 8B                                      pshh 
8018 86                                      pula 
8019 B796                                    sta locaux#1
801B 89                                      pshx 
801C 86                                      pula 
801D B797                                    sta locaux#2
801F 4500EC                                  ldhx #dirinivrstr*
8022 B696           otro#descriptor:         lda locaux#1
8024 F7                                      sta ,x
8025 B697                                    lda locaux#2
8027 E701                                    sta $01,x
8029 AF03                                    aix #$03
802B 6500EC                                  cphx #dirinistrings*
802E 26F2                                    bne otro#descriptor
8030 4500EC         ini#tops:                ldhx #dirinistrings*
8033 3589                                    sthx var#dirinistr
8035 4500E9                                  ldhx #dir#ultdesc
8038 358B                                    sthx var#dirultdesc
803A 450470                                  ldhx #top#mem+1
803D 358D                                    sthx var#topmem
803F 3F8F                                    clr locaux#-6
8041 3F9E                                    clr bya#dirll
8043 3F9F                                    clr byb#dirll
8045               ****  Fin de código de inicialización  *****
8045               *
8045               ****  Inicia código de usuario *****
8045               * finens  ---> r=49
8045               *            iniens
8045                tpm1sc@                  equ $20
8045                ptad@                    equ $00
8045 CDF569                                  jsr lee#car
8048               *            finens
8048               * input "Dar distancia entre sensores en metros-->" , dentse  ---> r=51
8048 2029                                    bra pr1dae#001
804A 4461722064     cadporimp1#001:          fcb $44,$61,$72,$20,$64,$69,$73,$74,$61,$6E,$63,$69,$61,$20,$65,$6E,$74,$72,$65,$20,$73,$65,$6E,$73,$6F,$72,$65,$73,$20,$65,$6E,$20,$6D,$65,$74,$72,$6F,$73,$2D,$2D,$3E
     697374616E
     6369612065
     6E74726520
     73656E736F
     7265732065
     6E206D6574
     726F732D2D
     3E
8073 6E299D         pr1dae#001:              mov #$29,nu#by
8076 45804A                                  ldhx #cadporimp1#001
8079 F6             printbyte1#001:          lda ,x
807A CDF565                                  jsr pon#car
807D AF01                                    aix #$01
807F 3A9D                                    dec nu#by
8081 26F6                                    bne printbyte1#001
8083 A600                                    lda #$00
8085 CDF565                                  jsr pon#car
8088 CDF56D         input4#001:              jsr input#acc1
808B 6E0897                                  mov #$08,locaux#2
808E CDE795                                  jsr validalec#num
8091 B69C                                    lda locaux#7
8093 27F3                                    beq input4#001
8095 4500D8                                  ldhx #dentse
8098 CDF4E7                                  jsr acpfps1#vmemfl
809B A60D                                    lda #$0d
809D CDF565                                  jsr pon#car
80A0 A60A                                    lda #$0a
80A2 CDF565                                  jsr pon#car
80A5               * ptape = &h3  ---> r=54
80A5 A603                                    lda #$03
80A7 C71840                                  sta ptape
80AA               * tpm1modh = &h4e  ---> r=55
80AA A64E                                    lda #$4e
80AC C70023                                  sta tpm1modh
80AF               * tpm1modl = &h1f  ---> r=56
80AF A61F                                    lda #$1f
80B1 C70024                                  sta tpm1modl
80B4               * tpm1sc = &h8  ---> r=58
80B4 A608                                    lda #$08
80B6 C70020                                  sta tpm1sc
80B9               * finens  ---> r=62
80B9               *            iniens
80B9 9A                                      cli 
80BA               *            finens
80BA               * while 1  ---> r=64
80BA 9D             iniwhile#001:   nop
80BB A601                                    lda #$01
80BD C700D1                                  sta t~1
80C0 C600D1                                  lda t~1
80C3 2603                                    bne argwhilevdo#001
80C5 CC82C8                                  jmp wend#001
80C8 9D             argwhilevdo#001:         nop 
80C9               * contms% = 0  ---> r=66
80C9 450000                                  ldhx #$0000
80CC 8B                                      pshh 
80CD 86                                      pula 
80CE C700D2                                  sta contms%
80D1 CF00D3                                  stx contms%+1
80D4               * print "Espera paso por sensor 1"  ---> r=68
80D4 2018                                    bra pr1dae#002
80D6 4573706572     cadporimp1#002:          fcb $45,$73,$70,$65,$72,$61,$20,$70,$61,$73,$6F,$20,$70,$6F,$72,$20,$73,$65,$6E,$73,$6F,$72,$20,$31
     6120706173
     6F20706F72
     2073656E73
     6F722031
80EE 6E189D         pr1dae#002:              mov #$18,nu#by
80F1 4580D6                                  ldhx #cadporimp1#002
80F4 F6             printbyte1#002:          lda ,x
80F5 CDF565                                  jsr pon#car
80F8 AF01                                    aix #$01
80FA 3A9D                                    dec nu#by
80FC 26F6                                    bne printbyte1#002
80FE A600                                    lda #$00
8100 CDF565                                  jsr pon#car
8103 A60D                                    lda #$0d
8105 CDF565                                  jsr pon#car
8108 A60A                                    lda #$0a
810A CDF565                                  jsr pon#car
810D               * finens  ---> r=73
810D               *            iniens
810D 0200FD         espsens1:                brset 1,ptad@,espsens1
8110 1C20                                    bset 6,tpm1sc@
8112               *            finens
8112               * print "El movil pasó el sensor 1"  ---> r=75
8112 2019                                    bra pr1dae#003
8114 456C206D6F     cadporimp1#003:          fcb $45,$6C,$20,$6D,$6F,$76,$69,$6C,$20,$70,$61,$73,$F3,$20,$65,$6C,$20,$73,$65,$6E,$73,$6F,$72,$20,$31
     76696C2070
     6173F32065
     6C2073656E
     736F722031
     
812D 6E199D         pr1dae#003:              mov #$19,nu#by
8130 458114                                  ldhx #cadporimp1#003
8133 F6             printbyte1#003:          lda ,x
8134 CDF565                                  jsr pon#car
8137 AF01                                    aix #$01
8139 3A9D                                    dec nu#by
813B 26F6                                    bne printbyte1#003
813D A600                                    lda #$00
813F CDF565                                  jsr pon#car
8142 A60D                                    lda #$0d
8144 CDF565                                  jsr pon#car
8147 A60A                                    lda #$0a
8149 CDF565                                  jsr pon#car
814C               * finens  ---> r=80
814C               *            iniens
814C 0000FD         espsens2:                brset 0,ptad@,espsens2
814F 1D20                                    bclr 6,tpm1sc@
8151               *            finens
8151               * print "El movil pasó el sensor 2"  ---> r=82
8151 2019                                    bra pr1dae#004
8153 456C206D6F     cadporimp1#004:          fcb $45,$6C,$20,$6D,$6F,$76,$69,$6C,$20,$70,$61,$73,$F3,$20,$65,$6C,$20,$73,$65,$6E,$73,$6F,$72,$20,$32
     76696C2070
     6173F32065
     6C2073656E
     736F722032
     
816C 6E199D         pr1dae#004:              mov #$19,nu#by
816F 458153                                  ldhx #cadporimp1#004
8172 F6             printbyte1#004:          lda ,x
8173 CDF565                                  jsr pon#car
8176 AF01                                    aix #$01
8178 3A9D                                    dec nu#by
817A 26F6                                    bne printbyte1#004
817C A600                                    lda #$00
817E CDF565                                  jsr pon#car
8181 A60D                                    lda #$0d
8183 CDF565                                  jsr pon#car
8186 A60A                                    lda #$0a
8188 CDF565                                  jsr pon#car
818B               * vprom = 3600. * dentse / contms%  ---> r=84
818B A68A                                    lda #$8A
818D B7B4                                    sta apf#ps1
818F A6E1                                    lda #$E1
8191 B7B5                                    sta m1pf#ps1
8193 A600                                    lda #$00
8195 B7B6                                    sta m2pf#ps1
8197 A600                                    lda #$00
8199 B7B7                                    sta m3pf#ps1
819B A600                                    lda #$00
819D B7B8                                    sta tspf#ps1
819F 4500D8                                  ldhx #dentse
81A2 CDF4D1                                  jsr vmemfl#acpfps2
81A5 CDE053                                  jsr mul#pfps
81A8 4500E0                                  ldhx #t!1
81AB CDF4E7                                  jsr acpfps1#vmemfl
81AE 4500D2                                  ldhx #contms%
81B1 7EB5                                    mov x+,m1pf#ps1
81B3 7EB6                                    mov x+,m2pf#ps1
81B5 CDECA3                                  jsr conv#24
81B8 CDE8BB                                  jsr flot5b#aflot4b
81BB 4500E4                                  ldhx #t!2
81BE 5EB4                                    mov apf#ps1,x+
81C0 5EB5                                    mov apf#ps1+1,x+
81C2 5EB6                                    mov apf#ps1+2,x+
81C4 5EB7                                    mov apf#ps1+3,x+
81C6 4500E0                                  ldhx #t!1
81C9 CDF4C1                                  jsr vmemfl#acpfps1
81CC 4500E4                                  ldhx #t!2
81CF CDF4D1                                  jsr vmemfl#acpfps2
81D2 CDE22A                                  jsr div#pfps
81D5 4500DC                                  ldhx #vprom
81D8 CDF4E7                                  jsr acpfps1#vmemfl
81DB               * print  ---> r=87
81DB A60D                                    lda #$0d
81DD CDF565                                  jsr pon#car
81E0 A60A                                    lda #$0a
81E2 CDF565                                  jsr pon#car
81E5               * print "La velocidad promedio del movil fue " ; vprom ; " Km/hr"  ---> r=89
81E5 2024                                    bra pr1dae#005
81E7 4C61207665     cadporimp1#005:          fcb $4C,$61,$20,$76,$65,$6C,$6F,$63,$69,$64,$61,$64,$20,$70,$72,$6F,$6D,$65,$64,$69,$6F,$20,$64,$65,$6C,$20,$6D,$6F,$76,$69,$6C,$20,$66,$75,$65,$20
     6C6F636964
     6164207072
     6F6D656469
     6F2064656C
     206D6F7669
     6C20667565
     20
820B 6E249D         pr1dae#005:              mov #$24,nu#by
820E 4581E7                                  ldhx #cadporimp1#005
8211 F6             printbyte1#005:          lda ,x
8212 CDF565                                  jsr pon#car
8215 AF01                                    aix #$01
8217 3A9D                                    dec nu#by
8219 26F6                                    bne printbyte1#005
821B A600                                    lda #$00
821D CDF565                                  jsr pon#car
8220 4500DC                                  ldhx #vprom
8223 35A0                                    sthx acc#1
8225 3FA2                                    clr acc#1+2
8227 6EB4A3                                  mov #apf#ps1,acc#1+3
822A 6E049D                                  mov #$04,nu#by
822D CDFB29                                  jsr bloque1#abloque2
8230 CDE8D5                                  jsr flot4b#aflot5b
8233 CDE52C                                  jsr printip2#pfps
8236 A600                                    lda #$00
8238 CDF565                                  jsr pon#car
823B 2006                                    bra pr1dae#006
823D 204B6D2F68     cadporimp1#006:          fcb $20,$4B,$6D,$2F,$68,$72
     72
8243 6E069D         pr1dae#006:              mov #$06,nu#by
8246 45823D                                  ldhx #cadporimp1#006
8249 F6             printbyte1#006:          lda ,x
824A CDF565                                  jsr pon#car
824D AF01                                    aix #$01
824F 3A9D                                    dec nu#by
8251 26F6                                    bne printbyte1#006
8253 A600                                    lda #$00
8255 CDF565                                  jsr pon#car
8258 A60D                                    lda #$0d
825A CDF565                                  jsr pon#car
825D A60A                                    lda #$0a
825F CDF565                                  jsr pon#car
8262               * print  ---> r=91
8262 A60D                                    lda #$0d
8264 CDF565                                  jsr pon#car
8267 A60A                                    lda #$0a
8269 CDF565                                  jsr pon#car
826C               * print "oprimir cualquier tecla para hacer otra medición"  ---> r=93
826C 2030                                    bra pr1dae#007
826E 6F7072696D     cadporimp1#007:          fcb $6F,$70,$72,$69,$6D,$69,$72,$20,$63,$75,$61,$6C,$71,$75,$69,$65,$72,$20,$74,$65,$63,$6C,$61,$20,$70,$61,$72,$61,$20,$68,$61,$63,$65,$72,$20,$6F,$74,$72,$61,$20,$6D,$65,$64,$69,$63,$69,$F3,$6E
     6972206375
     616C717569
     6572207465
     636C612070
     6172612068
     6163657220
     6F74726120
     6D65646963
     69F36E
829E 6E309D         pr1dae#007:              mov #$30,nu#by
82A1 45826E                                  ldhx #cadporimp1#007
82A4 F6             printbyte1#007:          lda ,x
82A5 CDF565                                  jsr pon#car
82A8 AF01                                    aix #$01
82AA 3A9D                                    dec nu#by
82AC 26F6                                    bne printbyte1#007
82AE A600                                    lda #$00
82B0 CDF565                                  jsr pon#car
82B3 A60D                                    lda #$0d
82B5 CDF565                                  jsr pon#car
82B8 A60A                                    lda #$0a
82BA CDF565                                  jsr pon#car
82BD               * finens  ---> r=98
82BD               *            iniens
82BD CDF569                                  jsr lee#car
82C0               *            finens
82C0               * cls  ---> r=100
82C0 A60C                                    lda #$0c
82C2 CDF565                                  jsr pon#car
82C5               * wend  ---> r=102
82C5 CC80BA                                  jmp iniwhile#001
82C8 9D             wend#001:   nop
82C9               * servovf:  ---> r=104
82C9 9D             servovf:     nop
82CA               * glip  ---> r=105
82CA 8B                                      pshh 
82CB 8C                                      clrh 
82CC AE87                                    ldx #apun*
82CE F6             glip#001:                lda ,x
82CF 87                                      psha 
82D0 AF01                                    aix #$01
82D2 6500D0                                  cphx #dirapdata*
82D5 26F7                                    bne glip#001
82D7               * byaux~ = tpm1sc  ---> r=107
82D7 C60020                                  lda tpm1sc
82DA C700D0                                  sta byaux~
82DD               * tpm1sc = tpm1sc and &h7f  ---> r=108
82DD C60020                                  lda tpm1sc
82E0                                          
82E0 A47F                                    and #$7f
82E2                                          
82E2 C70020                                  sta tpm1sc
82E5               * contms% = contms% + 1  ---> r=110
82E5 450001                                  ldhx #$0001
82E8 8B                                      pshh 
82E9 86                                      pula 
82EA C700D4                                  sta t%1
82ED CF00D5                                  stx t%1+1
82F0 C600D2                                  lda contms%
82F3 B7A0                                    sta acc#1+0
82F5 C600D3                                  lda contms%+1
82F8 B7A1                                    sta acc#1+1
82FA C600D4                                  lda t%1
82FD B7A2                                    sta acc#1+2
82FF C600D5                                  lda t%1+1
8302 B7A3                                    sta acc#1+3
8304 6E029D                                  mov #$02,nu#by
8307 CDDC3E                                  jsr sumal#nby
830A 55A0                                    ldhx acc#1+0
830C CF00D3                                  stx contms%+1
830F 8B                                      pshh 
8310 86                                      pula 
8311 C700D2                                  sta contms%
8314               * relip  ---> r=113
8314 8C                                      clrh 
8315 4500CF                                  ldhx #dirapdata*-1
8318 86             relip#001:               pula 
8319 F7                                      sta ,x
831A AFFF                                    aix #$ff
831C A386                                    cpx #apun*-1
831E 26F8                                    bne relip#001
8320 8A                                      pulh 
8321               * retint  ---> r=115
8321 80                                      rti 
8322               ****  Fin de código ejecutable de usuario *****
8322 20FE           fin#codus:               bra fin#codus
8324               *...............................................................................*
8324               ****  Inicio de datos de usuario declarados con sentencias datax, x=b/w/l/s *****
8324               *                          data#w &hd7e8 servovf 
D7E8                                        org $d7e8
D7E8 82C9                                    dw servovf

   TABLA DE SÍMBOLOS

       ETIQUETAS

OTRO#CEROARAM            8007
OTRO#DESCRIPTOR          8022
INI#TOPS                 8030
CADPORIMP1#001           804A
PR1DAE#001               8073
PRINTBYTE1#001           8079
INPUT4#001               8088
INIWHILE#001             80BA
ARGWHILEVDO#001          80C8
CADPORIMP1#002           80D6
PR1DAE#002               80EE
PRINTBYTE1#002           80F4
ESPSENS1                 810D
CADPORIMP1#003           8114
PR1DAE#003               812D
PRINTBYTE1#003           8133
ESPSENS2                 814C
CADPORIMP1#004           8153
PR1DAE#004               816C
PRINTBYTE1#004           8172
CADPORIMP1#005           81E7
PR1DAE#005               820B
PRINTBYTE1#005           8211
CADPORIMP1#006           823D
PR1DAE#006               8243
PRINTBYTE1#006           8249
CADPORIMP1#007           826E
PR1DAE#007               829E
PRINTBYTE1#007           82A4
WEND#001                 82C8
SERVOVF                  82C9
GLIP#001                 82CE
RELIP#001                8318
FIN#CODUS                8322

   ASIGNACIONES    EQU

DIRAPDATA*              $00D0
DIRINIVARS*             $00D0
DIRINIBYTE*             $00D0
BYAUX~                  $00D0
T~1                     $00D1
DIRINIENT2B*            $00D2
CONTMS%                 $00D2
T%1                     $00D4
T%2                     $00D6
DIRINILONG*             $00D8
DIRINIVR4B*             $00D8
DENTSE                  $00D8
VPROM                   $00DC
T!1                     $00E0
T!2                     $00E4
T!3                     $00E8
DIRINIVR8B*             $00EC
DIRINIVRSTR*            $00EC
DIRINISTRINGS*          $00EC
DIR#ULTDESC             $00E9
TOP#MEM                 $046F
SUM#NSNBY               $D800
RES#NSNBY               $D82A
ROT#IZQ08               $D854
ROT#DER08               $D864
MUL#NSNBY               $D874
SUMA#PARCIAL            $D8F2
NEG#NBY                 $D919
CP#NSNB                 $D93F
CP#NSNBZ                $D961
DIV#NSNBY               $D976
MOD#NSNBY               $DAAD
GEN#CADASCNBY           $DB66
GEN#ASCFNSNBY           $DBD7
SUMAL#NBY               $DC3E
RESTAL#NBY              $DC70
MULAL#NBY               $DC78
PONE#7FFF               $DCE5
PONE#FF80               $DD18
DIVAL#NBY               $DD42
MODAL#NBY               $DD7C
CP#NBY                  $DDB1
MULX10#NSNBY            $DDD8
GEN#10^N1               $DE08
EST#NBDEND              $DE27
ESC#MOFFS               $DE45
ASCENT#ABIN             $DE5A
SI#ESDIGDEC             $DEDD
ASCREAL#ABIN            $DEED
ASCRNOEX#AFLOT          $DF9F
MUL#PFPS                $E053
GENFLOT#10^M            $E0DE
GENFLOT#10^(-M)         $E10E
SWAP#ACPFPS             $E12F
ASCRCONEX#AFLOT         $E16C
PSH#ACPFPS2             $E1DA
PUL#ACPFPS2             $E1EE
PSH#ACPFPS1             $E202
PUL#ACPFPS1             $E216
DIV#PFPS                $E22A
RES#PFPS                $E2D8
SUM#PFPS                $E2E3
CP#PFPS                 $E372
AJU#EXPYMANT            $E3D6
PARTENT#PFPS            $E427
PARTFRAC#PFPS           $E47F
PRINTIP1#PFPS           $E49B
PRINTIP2#PFPS           $E52C
ANALIZA#CAD             $E5F2
PONE#CEROSIZQ           $E6D1
VALIDALEC#NUM           $E795
PRINT#ENTSIG            $E875
FLOT5B#AFLOT4B          $E8BB
FLOT4B#AFLOT5B          $E8D5
MUEVE#BLO_FFFF          $E8FC
MUEVE#BLO_0000          $E94A
ASIGCAD#ASTR            $E99D
SUM#STRINGS             $EAB0
CP#STRINGS              $EB39
ASIG#SUBSTRING          $EB7C
AVISO#ARGINV            $EBF1
CONV#12                 $EC0D
CONV#13                 $EC1B
CONV#14                 $EC33
CONV#21                 $EC67
CONV#23                 $EC90
CONV#24                 $ECA3
CONV#31                 $ECE7
CONV#32                 $ED11
CONV#34                 $ED3D
CONV#41                 $ED8A
CONV#42                 $EDF2
CONV#43                 $EE69
RAIZ#CUAD               $EEEC
GENFLOT#X^M             $EF6A
CGCTE#ACPFPS2           $EF7E
CGCTE#ACPFPS1           $EF92
SEN(Z)#V1               $EF9E
COS(Z)#V1               $F007
SEN(Z)#Z<PI/2           $F020
SEN(Z)#Z<2PI            $F057
SEN(Z)#GEN              $F0C3
COS(Z)#GEN              $F14D
EXP(Z)#V1               $F160
EXP(Z)#GEN              $F1AC
L(Z)#GEN                $F237
L10(Z)#GEN              $F2DA
TAN(Z)#GEN              $F2ED
ATAN(Z)#V2              $F315
ATAN(Z)#Z<=1            $F360
ATAN(Z)#GEN             $F3BF
XEY#PFPS                $F404
XEY#GEN                 $F41A
OB#1/Z                  $F498
FIX#PFPS                $F4B1
VMEMFL#ACPFPS1          $F4C1
VMEMFL#ACPFPS2          $F4D1
ACPFPS1#VMEMFL          $F4E7
VMEM#ACC1+OFFS          $F4F7
ACC1+OFFS#VMEM          $F50F
ES#DIGHEX               $F527
ANALIZA#CADHEX          $F544
PON#CAR                 $F565
LEE#CAR                 $F569
INPUT#ACC1              $F56D
ENRU#PONCAR             $F5D5
PONCAR#DE_STR           $F5EA
CADHEX#AFLOT            $F850
PONE#CEROENACPFPS1      $F8D6
PARHEXA#BYTEQ           $F8E1
VAL#DIGHEX              $F8F8
VAL#GEN                 $F905
STR$#GEN                $F954
HEX$#GEN                $F976
CHR$#GEN                $F9AE
ASC#GEN                 $F9C3
LEN#GEN                 $F9DD
SGN#GEN                 $F9E6
ABS#GEN                 $F9F8
CINT#GEN                $F9FB
CSGN#GEN                $FA32
DIVENT#PFPS             $FA3C
SUB#AUXDIVINTYMOD       $FA5E
MODAL#PFPS              $FA72
OPERBOOLE#PFPS          $FA94
OPERBOOLE#NBY           $FAAF
NOT#PFPS                $FB02
NOT#NBY                 $FB1B
BLOQUE1#ABLOQUE2        $FB29
AVISO#INDINV            $FB42
INPUT#ACC9              $FB99
TX#SCI                  $FBC6
RX#SCI                  $FBCC
MUL#N3B                 $FBD2
TXSCI                   $FC87
RXSCI                   $FC8D
ACC#1                   $A0
APF#PS1                 $B4
M1PF#PS1                $B5
M2PF#PS1                $B6
M3PF#PS1                $B7
TSPF#PS1                $B8
APF#PS2                 $B9
M1PF#PS2                $BA
M2PF#PS2                $BB
M3PF#PS2                $BC
TSPF#PS2                $BD
APUN*                   $87
VAR#DIRINISTR           $89
VAR#DIRULTDESC          $8B
VAR#TOPMEM              $8D
LOCAUX#-6               $8F
LOCAUX#-5               $90
LOCAUX#-4               $91
LOCAUX#-3               $92
LOCAUX#-2               $93
LOCAUX#-1               $94
LOCAUX#0                $95
LOCAUX#1                $96
LOCAUX#2                $97
LOCAUX#3                $98
LOCAUX#4                $99
LOCAUX#5                $9A
LOCAUX#6                $9B
LOCAUX#7                $9C
NU#BY                   $9D
BYA#DIRLL               $9E
BYB#DIRLL               $9F
TPM1SC                  $0020
TPM1MODH                $0023
TPM1MODL                $0024
PTAD                    $0000
PTAPE                   $1840
INI#SP                  $047F
TPM1SC@                 $20
PTAD@                   $00

